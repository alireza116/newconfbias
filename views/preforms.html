<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Uncerainty Visualization</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.5.0/d3.js"></script>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
      integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
      crossorigin=""
    />
    <script
      src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
      integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
      crossorigin=""
    ></script>
    <link rel="stylesheet" href="/css/preforms.css" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.3.1.js"
      integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="container bg-light">
      <form class="questions">
        <h1>Please answer these questions</h1>
        <div>
          What is your gender?
        </div>
        <fieldset class="form-group" style="background: #f9f9f9;">
          <div class="form-check">
            <label class="form-check-label">
              <input
                data-addui="radios"
                type="radio"
                class="form-check-input"
                name="genderRadios"
                id="genderop1"
                value="male"
              />
              Male
            </label>
          </div>
          <div class="form-check">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="genderRadios"
                id="genderop2"
                value="female"
              />
              Female
            </label>
          </div>
          <div class="form-check">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="genderRadios"
                id="genderop3"
                value="Other"
              />
              Other
            </label>
          </div>
        </fieldset>
        <hr />
        <fieldset class="form-group">
          <label for="example-text-input" class="col-form-label"
            >What is your age?</label
          >
          <div class="col-10">
            <input
              class="form-control"
              type="number"
              name="age"
              id="example-text-input"
            />
          </div>
        </fieldset>
        <fieldset class="form-group" style="background: #f9f9f9">
          <div>
            What is your race/ethnicity?
          </div>
          <div class="form-check form-check-inline" style="width:100%">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="raceRadios"
                id="raceRadiosop1"
                value="white"
              />
              White/Caucasian/European
            </label>
          </div>
          <div class="form-check form-check-inline" style="width:100%">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="raceRadios"
                id="raceRadiosop2"
                value="black"
              />
              Black/African
            </label>
          </div>
          <div class="form-check form-check-inline" style="width:100%">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="raceRadios"
                id="raceRadiosop3"
                value="eastasian"
              />
              East Asian e.g. Chinese, Japanese, South-East Asian
            </label>
          </div>
          <div class="form-check form-check-inline" style="width:100%">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="raceRadios"
                id="raceRadiosop4"
                value="indian"
              />
              Indian, Pakistani, Bangladeshi, or any other Asian
            </label>
          </div>
          <div class="form-check form-check-inline" style="width:100%">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="raceRadios"
                id="raceRadiosop5"
                value="pacific"
              />
              Pacific Islander
            </label>
          </div>
          <div class="form-check form-check-inline" style="width:100%">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="raceRadios"
                id="raceRadiosop6"
                value="hispanic"
              />
              Hispanic/Latino
            </label>
          </div>
          <div class="form-check form-check-inline" style="width:100%">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="raceRadios"
                id="raceRadiosop7"
                value="Arab"
              />
              Arabian, Egyptian or Maghrebi
            </label>
          </div>
          <div class="form-check form-check-inline" style="width:100%">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="raceRadios"
                id="raceRadiosop8"
                value="nativeamerican"
              />
              Native American/American Indian
            </label>
          </div>
          <div class="form-check form-check-inline" style="width:100%">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="raceRadios"
                id="raceRadiosop9"
                value="australian"
              />
              Australian Aboriginal
            </label>
          </div>
          <div class="form-check form-check-inline" style="width:100%">
            <label class="form-check-label">
              <input type="radio" name="raceRadios" value="other" />
              Other
            </label>
          </div>
        </fieldset>
        <fieldset class="form-group">
          <div>
            What is your education?
          </div>
          <div class="form-check form-check-inline" style="width:100%">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="eduRadios"
                id="eduRadiosop1"
                value="highschool"
              />
              High School
            </label>
          </div>
          <div class="form-check form-check-inline" style="width:100%">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="eduRadios"
                id="eduRadiosop2"
                value="undergrad"
              />
              Undergraduate
            </label>
          </div>
          <div class="form-check form-check-inline" style="width:100%">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="eduRadios"
                id="eduRadiosop3"
                value="masters"
              />
              Masters
            </label>
          </div>
          <div class="form-check form-check-inline" style="width:100%">
            <label class="form-check-label">
              <input
                type="radio"
                class="form-check-input"
                name="eduRadios"
                id="eduRadiosop4"
                value="doctorate"
              />
              Doctorate
            </label>
          </div>
          <div class="form-check form-check-inline" style="width:100%">
            <label class="form-check-label">
              <input type="radio" name="eduRadios" value="other" />
              Other
            </label>
          </div>
        </fieldset>

        <button type="submit" class="btn btn-primary" id="presubmit">
          Submit
        </button>
      </form>
    </div>

    <!-- <script src="/js/article.js"></script>
<script src="/js/study.js"></script> -->
    <script>
      var windowWidth = window.screen.width;
      var windowHeight = window.screen.height;

      // Opera 8.0+
      var isOpera =
        (!!window.opr && !!opr.addons) ||
        !!window.opera ||
        navigator.userAgent.indexOf(" OPR/") >= 0;

      // Firefox 1.0+
      var isFirefox = typeof InstallTrigger !== "undefined";

      // Safari 3.0+ "[object HTMLElementConstructor]"
      var isSafari =
        /constructor/i.test(window.HTMLElement) ||
        (function(p) {
          return p.toString() === "[object SafariRemoteNotification]";
        })(
          !window["safari"] ||
            (typeof safari !== "undefined" && safari.pushNotification)
        );

      // Internet Explorer 6-11
      var isIE = /*@cc_on!@*/ false || !!document.documentMode;

      // Edge 20+
      var isEdge = !isIE && !!window.StyleMedia;

      // Chrome 1+
      var isChrome = !!window.chrome && !!window.chrome.webstore;

      // Blink engine detection
      var isBlink = (isChrome || isOpera) && !!window.CSS;

      var browser = {
        isOpera: isOpera,
        isFirefox: isFirefox,
        isSafari: isSafari,
        isIE: isIE,
        isEdge: isEdge,
        isChrome: isChrome,
        isBlink: isBlink
      };

      var browserInfo = {
        browser: browser,
        screenSize: {
          windowWidth: windowWidth,
          windowHeight: windowHeight
        }
      };
      $.post(
        "/api/browser",
        (data = browserInfo),
        (success = function(d) {
          console.log(d);
        })
      );

      $("#sidebar").height(function() {
        return $("html").height();
      });

      $.get("/api/userinfo", function(data) {
        $("#token").text(data.token);
      });

      $("#presubmit").click(function(event) {
        event.preventDefault();
        var data = $(".questions").serializeArray();
        console.log(data);
        //        window.location.assign("/instructions");
        //        console.log(data);
        if (!(+data[1]["value"] >= 18 && +data[1]["value"] < 99)) {
          alert(
            "you need to be older than 18 years old and less than 99 years to continue this study"
          );
        } else if (data.length === 4) {
          $.post(
            "/api/pre",
            (data = data),
            (success = function(d) {
              console.log(d);
              console.log("success");
              window.location.assign("/instructions/correlation");
            })
          );
        } else {
          console.log(data);
          alert("please fill out all questions.");
        }
      });
    </script>
  </body>
</html>
